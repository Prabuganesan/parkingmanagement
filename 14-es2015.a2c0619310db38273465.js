(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"9u13":function(t,n,e){"use strict";e.r(n),e.d(n,"rentPlanListModule",function(){return y});var o=e("ofXK"),r=e("TEn/"),a=e("3Pt+"),i=e("fXoL"),c=e("tyNb"),s=e("27b0"),l=e("tp0D"),b=e("7zfz"),p=e("J7/z"),d=e("Gxio"),m=e("sYmb");let g=(()=>{class t{constructor(t,n,e,o,r,a,i){this.router=t,this.dbconfig=n,this.formBuilder=e,this.dbprovider=o,this.messageService=r,this.ref=a,this.config=i,this.rentPlanObj={},this.tableName="rentPlan",this.savedSuccessMessage="Data saved successfully","edit"==i.data.mode?this.rentPlanObj=JSON.parse(JSON.stringify(i.data.object)):this.initializeObjects(this.dbconfig.configuration.tableStructure),this.createFormGroup()}initializeObjects(t){this.rentPlanObj=JSON.parse(JSON.stringify(t[this.tableName])),this.rentPlanObj.vehicleType="car"}createFormGroup(){this.formGroup=this.formBuilder.group({rentplan:this.formBuilder.group({rentPlan:["",a.o.compose([a.o.maxLength(80),a.o.required])],rentAmount:["",a.o.compose([a.o.required])],vehicleType:["",a.o.compose([a.o.required])]})})}saveAction(){console.log(this.rentPlanObj),this.formGroup.patchValue({rentplan:{rentPlan:this.rentPlanObj.rentPlan,rentAmount:this.rentPlanObj.rentAmount,vehicleType:this.rentPlanObj.vehicleType}}),this.formGroup.valid?this.alreadyExistValidation().then(t=>{t?this.messageService.add({key:"rentplanEntry",severity:"error",summary:"Plan already exist",detail:"",closable:!0}):this.dbprovider.save(this.tableName,this.rentPlanObj).then(t=>{"SUCCESS"==t.status?(this.messageService.add({key:"rentplanEntry",severity:"success",summary:this.savedSuccessMessage,detail:""}),setTimeout(()=>this.ref.close("SUCCESS"),1e3)):this.messageService.add({key:"rentplanEntry",severity:"error",summary:t.message,detail:"",closable:!0})}).catch(t=>{console.log(t),this.messageService.add({key:"rentplanEntry",severity:"error",summary:t,detail:""})})}):this.messageService.add({key:"rentplanEntry",severity:"error",summary:"Fill all fields",detail:"",closable:!0})}alreadyExistValidation(){var t=!1;return"edit"==this.config.data.mode&&this.rentPlanObj.rentPlan==this.config.data.object.rentPlan?Promise.resolve(t):this.dbprovider.fetchDocsWithoutRelationshipUsingFindOption({selector:{"data.rentPlan":this.rentPlanObj.rentPlan,"data.type":this.tableName},sort:["data.rentPlan"]}).then(n=>("SUCCESS"==n.status&&n.records.length>0&&(t=!0),t))}}return t.\u0275fac=function(n){return new(n||t)(i.Mb(c.g),i.Mb(s.a),i.Mb(a.b),i.Mb(l.a),i.Mb(b.h),i.Mb(p.d),i.Mb(p.b))},t.\u0275cmp=i.Gb({type:t,selectors:[["rentPlanEntry"]],decls:37,vars:25,consts:[[1,"pm-rpe-popup"],[3,"formGroup"],["lines","none","formGroupName","rentplan"],["position","floating"],["type","text","formControlName","rentPlan","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","rentAmount",3,"ngModel","ngModelChange"],["value","car","mode","md","formControlName","vehicleType",2,"width","100%",3,"ngModel","ngModelChange"],["lines","none"],["value","car"],["value","auto"],["value","others"],["type","submit","color","danger","expand","block",3,"click"],["key","rentplanEntry","position","center"]],template:function(t,n){1&t&&(i.Sb(0,"ion-content",0),i.Sb(1,"form",1),i.Sb(2,"ion-item",2),i.Sb(3,"ion-label",3),i.Ec(4),i.dc(5,"translate"),i.Rb(),i.Sb(6,"ion-input",4),i.ac("ngModelChange",function(t){return n.rentPlanObj.rentPlan=t}),i.Rb(),i.Rb(),i.Sb(7,"ion-item",2),i.Sb(8,"ion-label",3),i.Ec(9),i.dc(10,"translate"),i.Rb(),i.Sb(11,"ion-input",5),i.ac("ngModelChange",function(t){return n.rentPlanObj.rentAmount=t}),i.Rb(),i.Rb(),i.Sb(12,"ion-item",2),i.Sb(13,"ion-radio-group",6),i.ac("ngModelChange",function(t){return n.rentPlanObj.vehicleType=t}),i.Sb(14,"ion-label"),i.Ec(15),i.dc(16,"translate"),i.Rb(),i.Sb(17,"ion-item",7),i.Nb(18,"ion-radio",8),i.Sb(19,"ion-label"),i.Ec(20),i.dc(21,"translate"),i.Rb(),i.Sb(22,"ion-radio",9),i.Ec(23,"Test"),i.Rb(),i.Sb(24,"ion-label"),i.Ec(25),i.dc(26,"translate"),i.Rb(),i.Nb(27,"ion-radio",10),i.Sb(28,"ion-label"),i.Ec(29),i.dc(30,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(31,"ion-row"),i.Sb(32,"ion-col"),i.Sb(33,"ion-button",11),i.ac("click",function(){return n.saveAction()}),i.Ec(34),i.dc(35,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Nb(36,"p-toast",12),i.Rb()),2&t&&(i.Ab(1),i.jc("formGroup",n.formGroup),i.Ab(3),i.Gc("",i.ec(5,11,"rentPlanEntry.rentPlanName")," "),i.Ab(2),i.jc("ngModel",n.rentPlanObj.rentPlan),i.Ab(3),i.Fc(i.ec(10,13,"rentPlanEntry.rentAmount")),i.Ab(2),i.jc("ngModel",n.rentPlanObj.rentAmount),i.Ab(2),i.jc("ngModel",n.rentPlanObj.vehicleType),i.Ab(2),i.Fc(i.ec(16,15,"rentPlanEntry.rentplanType")),i.Ab(5),i.Fc(i.ec(21,17,"rentPlanEntry.car")),i.Ab(5),i.Fc(i.ec(26,19,"rentPlanEntry.auto")),i.Ab(4),i.Fc(i.ec(30,21,"rentPlanEntry.others")),i.Ab(5),i.Fc(i.ec(35,23,"save")))},directives:[r.k,a.p,a.j,a.d,r.q,a.e,r.r,r.p,r.K,a.i,a.c,a.n,r.F,r.u,r.J,r.t,r.I,r.w,r.j,r.d,d.a],pipes:[m.c],styles:[".pm-rpe-popup[_ngcontent-%COMP%]{min-height:235px;max-height:300px;--background:#fff}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:#313131;--background:#fff;background:#fff;border-bottom:1px solid #c7c7c7}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]{padding-top:5px}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:3px;font-size:16px}"]}),t})();var u=e("8CEF");function h(t,n){if(1&t){const t=i.Tb();i.Sb(0,"div",15),i.ac("click",function(){i.wc(t);const e=n.$implicit;return i.cc().editaction(e)}),i.Nb(1,"i",16),i.Sb(2,"div",17),i.Sb(3,"div"),i.Sb(4,"span",18),i.Ec(5,"Rent Plan : "),i.Rb(),i.Sb(6,"span",19),i.Sb(7,"strong"),i.Ec(8),i.Rb(),i.Rb(),i.Rb(),i.Sb(9,"div"),i.Sb(10,"span",18),i.Ec(11,"Rent Amount : "),i.Rb(),i.Sb(12,"span",19),i.Sb(13,"strong"),i.Ec(14),i.dc(15,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Sb(16,"div"),i.Sb(17,"span",18),i.Ec(18,"Vehicle Type : "),i.Rb(),i.Sb(19,"span",19),i.Sb(20,"strong"),i.Ec(21),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=n.$implicit;i.Ab(8),i.Fc(t.rentPlan),i.Ab(6),i.Hc("",t.rentAmount," ",i.ec(15,4,"rs"),""),i.Ab(7),i.Fc(t.vehicleType)}}let P=(()=>{class t{constructor(t,n,e,o,r,a){this.router=t,this.dialogService=n,this.messageService=e,this.location=o,this.translate=r,this.dbprovider=a,this.rentplans=[],this.tableName="rentPlan",this.fetchData()}fetchData(){this.dbprovider.fetchDocsWithoutRelationshipByType(this.tableName).then(t=>{t&&"SUCCESS"==t.status?(console.log(t),this.rentplans=t.records):this.messageService.add({key:"rentPlanList",severity:"error",summary:t.message,detail:""})})}backButtonOnclick(){this.location.back()}planAddClick(){console.log("user add"),this.dialogService.open(g,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:"",mode:"new"}}).onClose.subscribe(t=>{t&&"SUCCESS"==t&&this.fetchData()})}editaction(t){console.log("edit",t),this.dialogService.open(g,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:t,mode:"edit"}}).onClose.subscribe(t=>{t&&"SUCCESS"==t&&this.fetchData()})}}return t.\u0275fac=function(n){return new(n||t)(i.Mb(c.g),i.Mb(p.a),i.Mb(b.h),i.Mb(o.h),i.Mb(m.d),i.Mb(l.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["rentPlanList"]],decls:17,vars:4,consts:[["no-border","",1,"pm-header"],[1,"pm-toolbar"],["slot","start",1,"pm-clickaction"],[3,"click"],["name","arrow-back"],["slot","end",1,"pm-clickaction"],["slot","end",3,"click"],["name","add"],["size","large",1,"ion-text-center","pm-header-title"],[1,"pm-content"],[1,"pm-container"],["layout","grid",3,"value"],["dv",""],["pTemplate","gridItem"],["key","rentPlanList","position","center"],[1,"p-col-12","p-md-4","pm-card-seg",3,"click"],[1,"pi","pi-money-bill"],[1,"pm-rpl-detail"],[1,"pm-v-label"],[1,"pm-camelcase"]],template:function(t,n){1&t&&(i.Sb(0,"ion-header",0),i.Sb(1,"ion-toolbar",1),i.Sb(2,"ion-buttons",2),i.Sb(3,"ion-button",3),i.ac("click",function(){return n.backButtonOnclick()}),i.Nb(4,"ion-icon",4),i.Rb(),i.Rb(),i.Sb(5,"ion-buttons",5),i.Sb(6,"ion-button",6),i.ac("click",function(){return n.planAddClick()}),i.Nb(7,"ion-icon",7),i.Rb(),i.Rb(),i.Sb(8,"ion-title",8),i.Ec(9),i.dc(10,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Sb(11,"ion-content",9),i.Sb(12,"div",10),i.Sb(13,"p-dataView",11,12),i.Cc(15,h,22,6,"ng-template",13),i.Rb(),i.Rb(),i.Nb(16,"p-toast",14),i.Rb()),2&t&&(i.Ab(9),i.Gc(" ",i.ec(10,2,"rentPlanList.title")," "),i.Ab(4),i.jc("value",n.rentplans))},directives:[r.n,r.A,r.e,r.d,r.o,r.z,r.k,u.a,b.j,d.a],pipes:[m.c],styles:[".pm-content[_ngcontent-%COMP%]{--background:#fff}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]{margin:15px}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(99,99,99,.2);margin:20px;padding:20px!important;border-radius:15px;display:inline-flex;color:#212e3f}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem!important;margin-right:15px;padding-top:3px}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   .pm-rpl-detail[_ngcontent-%COMP%]{font-size:20px;text-transform:capitalize;width:calc(100% - 50px)}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   .pm-rpl-detail[_ngcontent-%COMP%]   .pm-v-label[_ngcontent-%COMP%]{color:#212e3f;padding-right:5px;line-height:1.5}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]:hover{cursor:pointer}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#2196f3}"]}),t})();var f=e("7kUa"),S=e("jIHw"),M=e("Q4Mo"),C=e("1SLH");const O=[{path:"",component:P}];let y=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(n){return new(n||t)},imports:[[c.k.forChild(O),o.c,a.f,r.B,f.b,S.c,M.b,C.b,u.b,p.c,m.b,d.b],c.k]}),t})()}}]);