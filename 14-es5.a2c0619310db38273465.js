!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"9u13":function(t,o,r){"use strict";r.r(o),r.d(o,"rentPlanListModule",function(){return E});var a,i=r("ofXK"),c=r("TEn/"),l=r("3Pt+"),s=r("fXoL"),b=r("tyNb"),p=r("27b0"),d=r("tp0D"),u=r("7zfz"),m=r("J7/z"),g=r("Gxio"),h=r("sYmb"),f=((a=function(){function t(e,o,r,a,i,c,l){n(this,t),this.router=e,this.dbconfig=o,this.formBuilder=r,this.dbprovider=a,this.messageService=i,this.ref=c,this.config=l,this.rentPlanObj={},this.tableName="rentPlan",this.savedSuccessMessage="Data saved successfully","edit"==l.data.mode?this.rentPlanObj=JSON.parse(JSON.stringify(l.data.object)):this.initializeObjects(this.dbconfig.configuration.tableStructure),this.createFormGroup()}return e(t,[{key:"initializeObjects",value:function(n){this.rentPlanObj=JSON.parse(JSON.stringify(n[this.tableName])),this.rentPlanObj.vehicleType="car"}},{key:"createFormGroup",value:function(){this.formGroup=this.formBuilder.group({rentplan:this.formBuilder.group({rentPlan:["",l.o.compose([l.o.maxLength(80),l.o.required])],rentAmount:["",l.o.compose([l.o.required])],vehicleType:["",l.o.compose([l.o.required])]})})}},{key:"saveAction",value:function(){var n=this;console.log(this.rentPlanObj),this.formGroup.patchValue({rentplan:{rentPlan:this.rentPlanObj.rentPlan,rentAmount:this.rentPlanObj.rentAmount,vehicleType:this.rentPlanObj.vehicleType}}),this.formGroup.valid?this.alreadyExistValidation().then(function(t){t?n.messageService.add({key:"rentplanEntry",severity:"error",summary:"Plan already exist",detail:"",closable:!0}):n.dbprovider.save(n.tableName,n.rentPlanObj).then(function(t){"SUCCESS"==t.status?(n.messageService.add({key:"rentplanEntry",severity:"success",summary:n.savedSuccessMessage,detail:""}),setTimeout(function(){return n.ref.close("SUCCESS")},1e3)):n.messageService.add({key:"rentplanEntry",severity:"error",summary:t.message,detail:"",closable:!0})}).catch(function(t){console.log(t),n.messageService.add({key:"rentplanEntry",severity:"error",summary:t,detail:""})})}):this.messageService.add({key:"rentplanEntry",severity:"error",summary:"Fill all fields",detail:"",closable:!0})}},{key:"alreadyExistValidation",value:function(){var n=!1;return"edit"==this.config.data.mode&&this.rentPlanObj.rentPlan==this.config.data.object.rentPlan?Promise.resolve(n):this.dbprovider.fetchDocsWithoutRelationshipUsingFindOption({selector:{"data.rentPlan":this.rentPlanObj.rentPlan,"data.type":this.tableName},sort:["data.rentPlan"]}).then(function(t){return"SUCCESS"==t.status&&t.records.length>0&&(n=!0),n})}}]),t}()).\u0275fac=function(n){return new(n||a)(s.Mb(b.g),s.Mb(p.a),s.Mb(l.b),s.Mb(d.a),s.Mb(u.h),s.Mb(m.d),s.Mb(m.b))},a.\u0275cmp=s.Gb({type:a,selectors:[["rentPlanEntry"]],decls:37,vars:25,consts:[[1,"pm-rpe-popup"],[3,"formGroup"],["lines","none","formGroupName","rentplan"],["position","floating"],["type","text","formControlName","rentPlan","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","rentAmount",3,"ngModel","ngModelChange"],["value","car","mode","md","formControlName","vehicleType",2,"width","100%",3,"ngModel","ngModelChange"],["lines","none"],["value","car"],["value","auto"],["value","others"],["type","submit","color","danger","expand","block",3,"click"],["key","rentplanEntry","position","center"]],template:function(n,t){1&n&&(s.Sb(0,"ion-content",0),s.Sb(1,"form",1),s.Sb(2,"ion-item",2),s.Sb(3,"ion-label",3),s.Ec(4),s.dc(5,"translate"),s.Rb(),s.Sb(6,"ion-input",4),s.ac("ngModelChange",function(n){return t.rentPlanObj.rentPlan=n}),s.Rb(),s.Rb(),s.Sb(7,"ion-item",2),s.Sb(8,"ion-label",3),s.Ec(9),s.dc(10,"translate"),s.Rb(),s.Sb(11,"ion-input",5),s.ac("ngModelChange",function(n){return t.rentPlanObj.rentAmount=n}),s.Rb(),s.Rb(),s.Sb(12,"ion-item",2),s.Sb(13,"ion-radio-group",6),s.ac("ngModelChange",function(n){return t.rentPlanObj.vehicleType=n}),s.Sb(14,"ion-label"),s.Ec(15),s.dc(16,"translate"),s.Rb(),s.Sb(17,"ion-item",7),s.Nb(18,"ion-radio",8),s.Sb(19,"ion-label"),s.Ec(20),s.dc(21,"translate"),s.Rb(),s.Sb(22,"ion-radio",9),s.Ec(23,"Test"),s.Rb(),s.Sb(24,"ion-label"),s.Ec(25),s.dc(26,"translate"),s.Rb(),s.Nb(27,"ion-radio",10),s.Sb(28,"ion-label"),s.Ec(29),s.dc(30,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(31,"ion-row"),s.Sb(32,"ion-col"),s.Sb(33,"ion-button",11),s.ac("click",function(){return t.saveAction()}),s.Ec(34),s.dc(35,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(36,"p-toast",12),s.Rb()),2&n&&(s.Ab(1),s.jc("formGroup",t.formGroup),s.Ab(3),s.Gc("",s.ec(5,11,"rentPlanEntry.rentPlanName")," "),s.Ab(2),s.jc("ngModel",t.rentPlanObj.rentPlan),s.Ab(3),s.Fc(s.ec(10,13,"rentPlanEntry.rentAmount")),s.Ab(2),s.jc("ngModel",t.rentPlanObj.rentAmount),s.Ab(2),s.jc("ngModel",t.rentPlanObj.vehicleType),s.Ab(2),s.Fc(s.ec(16,15,"rentPlanEntry.rentplanType")),s.Ab(5),s.Fc(s.ec(21,17,"rentPlanEntry.car")),s.Ab(5),s.Fc(s.ec(26,19,"rentPlanEntry.auto")),s.Ab(4),s.Fc(s.ec(30,21,"rentPlanEntry.others")),s.Ab(5),s.Fc(s.ec(35,23,"save")))},directives:[c.k,l.p,l.j,l.d,c.q,l.e,c.r,c.p,c.K,l.i,l.c,l.n,c.F,c.u,c.J,c.t,c.I,c.w,c.j,c.d,g.a],pipes:[h.c],styles:[".pm-rpe-popup[_ngcontent-%COMP%]{min-height:235px;max-height:300px;--background:#fff}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:#313131;--background:#fff;background:#fff;border-bottom:1px solid #c7c7c7}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]{padding-top:5px}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px}.pm-rpe-popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:3px;font-size:16px}"]}),a),P=r("8CEF");function v(n,t){if(1&n){var e=s.Tb();s.Sb(0,"div",15),s.ac("click",function(){s.wc(e);var n=t.$implicit;return s.cc().editaction(n)}),s.Nb(1,"i",16),s.Sb(2,"div",17),s.Sb(3,"div"),s.Sb(4,"span",18),s.Ec(5,"Rent Plan : "),s.Rb(),s.Sb(6,"span",19),s.Sb(7,"strong"),s.Ec(8),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div"),s.Sb(10,"span",18),s.Ec(11,"Rent Amount : "),s.Rb(),s.Sb(12,"span",19),s.Sb(13,"strong"),s.Ec(14),s.dc(15,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"div"),s.Sb(17,"span",18),s.Ec(18,"Vehicle Type : "),s.Rb(),s.Sb(19,"span",19),s.Sb(20,"strong"),s.Ec(21),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&n){var o=t.$implicit;s.Ab(8),s.Fc(o.rentPlan),s.Ab(6),s.Hc("",o.rentAmount," ",s.ec(15,4,"rs"),""),s.Ab(7),s.Fc(o.vehicleType)}}var S,y,C=((S=function(){function t(e,o,r,a,i,c){n(this,t),this.router=e,this.dialogService=o,this.messageService=r,this.location=a,this.translate=i,this.dbprovider=c,this.rentplans=[],this.tableName="rentPlan",this.fetchData()}return e(t,[{key:"fetchData",value:function(){var n=this;this.dbprovider.fetchDocsWithoutRelationshipByType(this.tableName).then(function(t){t&&"SUCCESS"==t.status?(console.log(t),n.rentplans=t.records):n.messageService.add({key:"rentPlanList",severity:"error",summary:t.message,detail:""})})}},{key:"backButtonOnclick",value:function(){this.location.back()}},{key:"planAddClick",value:function(){var n=this;console.log("user add"),this.dialogService.open(f,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:"",mode:"new"}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&n.fetchData()})}},{key:"editaction",value:function(n){var t=this;console.log("edit",n),this.dialogService.open(f,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:n,mode:"edit"}}).onClose.subscribe(function(n){n&&"SUCCESS"==n&&t.fetchData()})}}]),t}()).\u0275fac=function(n){return new(n||S)(s.Mb(b.g),s.Mb(m.a),s.Mb(u.h),s.Mb(i.h),s.Mb(h.d),s.Mb(d.a))},S.\u0275cmp=s.Gb({type:S,selectors:[["rentPlanList"]],decls:17,vars:4,consts:[["no-border","",1,"pm-header"],[1,"pm-toolbar"],["slot","start",1,"pm-clickaction"],[3,"click"],["name","arrow-back"],["slot","end",1,"pm-clickaction"],["slot","end",3,"click"],["name","add"],["size","large",1,"ion-text-center","pm-header-title"],[1,"pm-content"],[1,"pm-container"],["layout","grid",3,"value"],["dv",""],["pTemplate","gridItem"],["key","rentPlanList","position","center"],[1,"p-col-12","p-md-4","pm-card-seg",3,"click"],[1,"pi","pi-money-bill"],[1,"pm-rpl-detail"],[1,"pm-v-label"],[1,"pm-camelcase"]],template:function(n,t){1&n&&(s.Sb(0,"ion-header",0),s.Sb(1,"ion-toolbar",1),s.Sb(2,"ion-buttons",2),s.Sb(3,"ion-button",3),s.ac("click",function(){return t.backButtonOnclick()}),s.Nb(4,"ion-icon",4),s.Rb(),s.Rb(),s.Sb(5,"ion-buttons",5),s.Sb(6,"ion-button",6),s.ac("click",function(){return t.planAddClick()}),s.Nb(7,"ion-icon",7),s.Rb(),s.Rb(),s.Sb(8,"ion-title",8),s.Ec(9),s.dc(10,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"ion-content",9),s.Sb(12,"div",10),s.Sb(13,"p-dataView",11,12),s.Cc(15,v,22,6,"ng-template",13),s.Rb(),s.Rb(),s.Nb(16,"p-toast",14),s.Rb()),2&n&&(s.Ab(9),s.Gc(" ",s.ec(10,2,"rentPlanList.title")," "),s.Ab(4),s.jc("value",t.rentplans))},directives:[c.n,c.A,c.e,c.d,c.o,c.z,c.k,P.a,u.j,g.a],pipes:[h.c],styles:[".pm-content[_ngcontent-%COMP%]{--background:#fff}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]{margin:15px}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(99,99,99,.2);margin:20px;padding:20px!important;border-radius:15px;display:inline-flex;color:#212e3f}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem!important;margin-right:15px;padding-top:3px}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   .pm-rpl-detail[_ngcontent-%COMP%]{font-size:20px;text-transform:capitalize;width:calc(100% - 50px)}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]   .pm-rpl-detail[_ngcontent-%COMP%]   .pm-v-label[_ngcontent-%COMP%]{color:#212e3f;padding-right:5px;line-height:1.5}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]:hover{cursor:pointer}.pm-content[_ngcontent-%COMP%]   .pm-container[_ngcontent-%COMP%]   .pm-card-seg[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#2196f3}"]}),S),M=r("7kUa"),O=r("jIHw"),k=r("Q4Mo"),R=r("1SLH"),_=[{path:"",component:C}],E=((y=function t(){n(this,t)}).\u0275mod=s.Kb({type:y}),y.\u0275inj=s.Jb({factory:function(n){return new(n||y)},imports:[[b.k.forChild(_),i.c,l.f,c.B,M.b,O.c,k.b,R.b,P.b,m.c,h.b,g.b],b.k]}),y)}}])}();