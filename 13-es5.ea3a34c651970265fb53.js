!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"9u13":function(t,i,a){"use strict";a.r(i),a.d(i,"rentPlanListModule",function(){return j});var r,o=a("ofXK"),c=a("TEn/"),l=a("3Pt+"),s=a("fXoL"),b=a("tyNb"),d=a("27b0"),u=a("tp0D"),h=a("7zfz"),p=a("J7/z"),m=a("Gxio"),f=a("sYmb"),v=((r=function(){function t(n,i,a,r,o,c,l){e(this,t),this.router=n,this.dbconfig=i,this.formBuilder=a,this.dbprovider=r,this.messageService=o,this.ref=c,this.config=l,this.rentPlanObj={},this.tableName="rentPlan",this.savedSuccessMessage="Data saved sucessfully","edit"==l.data.mode?this.rentPlanObj=JSON.parse(JSON.stringify(l.data.object)):this.initializeObjects(this.dbconfig.configuration.tableStructure),this.createFormGroup()}return n(t,[{key:"initializeObjects",value:function(e){this.rentPlanObj=JSON.parse(JSON.stringify(e[this.tableName])),this.rentPlanObj.vehicleType="car"}},{key:"createFormGroup",value:function(){this.formGroup=this.formBuilder.group({rentplan:this.formBuilder.group({rentPlan:["",l.o.compose([l.o.maxLength(80),l.o.required])],rentAmount:["",l.o.compose([l.o.required])],vehicleType:["",l.o.compose([l.o.required])]})})}},{key:"saveAction",value:function(){var e=this;console.log(this.rentPlanObj),this.formGroup.patchValue({rentplan:{rentPlan:this.rentPlanObj.rentPlan,rentAmount:this.rentPlanObj.rentAmount,vehicleType:this.rentPlanObj.vehicleType}}),this.formGroup.valid?this.alreadyExistValidation().then(function(t){t?e.messageService.add({key:"rentplanEntry",severity:"error",summary:"Plan already exist",detail:"",closable:!0}):e.dbprovider.save(e.tableName,e.rentPlanObj).then(function(t){"SUCCESS"==t.status?(e.messageService.add({key:"rentplanEntry",severity:"success",summary:e.savedSuccessMessage,detail:""}),setTimeout(function(){return e.ref.close("SUCCESS")},1e3)):e.messageService.add({key:"rentplanEntry",severity:"error",summary:t.message,detail:"",closable:!0})}).catch(function(t){console.log(t),e.messageService.add({key:"rentplanEntry",severity:"error",summary:t,detail:""})})}):this.messageService.add({key:"rentplanEntry",severity:"error",summary:"Fill all fields",detail:"",closable:!0})}},{key:"alreadyExistValidation",value:function(){var e=!1;return"edit"==this.config.data.mode&&this.rentPlanObj.rentPlan==this.config.data.object.rentPlan?Promise.resolve(e):this.dbprovider.fetchDocsWithoutRelationshipUsingFindOption({selector:{"data.rentPlan":this.rentPlanObj.rentPlan,"data.type":this.tableName},sort:["data.rentPlan"]}).then(function(t){return"SUCCESS"==t.status&&t.records.length>0&&(e=!0),e})}}]),t}()).\u0275fac=function(e){return new(e||r)(s.Lb(b.g),s.Lb(d.a),s.Lb(l.b),s.Lb(u.a),s.Lb(h.h),s.Lb(p.d),s.Lb(p.b))},r.\u0275cmp=s.Fb({type:r,selectors:[["rentPlanEntry"]],decls:37,vars:25,consts:[[2,"height","300px"],[2,"height","100%",3,"formGroup"],["lines","full","formGroupName","rentplan"],["position","floating"],["type","text","formControlName","rentPlan","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","rentAmount",3,"ngModel","ngModelChange"],["value","car","mode","md","formControlName","vehicleType",2,"width","100%",3,"ngModel","ngModelChange"],["value","car"],["value","auto"],["value","others"],["type","submit","color","danger","expand","block",3,"click"],["key","rentplanEntry","position","center"]],template:function(e,t){1&e&&(s.Rb(0,"ion-content",0),s.Rb(1,"form",1),s.Rb(2,"ion-item",2),s.Rb(3,"ion-label",3),s.Dc(4),s.cc(5,"translate"),s.Qb(),s.Rb(6,"ion-input",4),s.Zb("ngModelChange",function(e){return t.rentPlanObj.rentPlan=e}),s.Qb(),s.Qb(),s.Rb(7,"ion-item",2),s.Rb(8,"ion-label",3),s.Dc(9),s.cc(10,"translate"),s.Qb(),s.Rb(11,"ion-input",5),s.Zb("ngModelChange",function(e){return t.rentPlanObj.rentAmount=e}),s.Qb(),s.Qb(),s.Rb(12,"ion-item",2),s.Rb(13,"ion-radio-group",6),s.Zb("ngModelChange",function(e){return t.rentPlanObj.vehicleType=e}),s.Rb(14,"ion-label"),s.Dc(15),s.cc(16,"translate"),s.Qb(),s.Rb(17,"ion-item"),s.Mb(18,"ion-radio",7),s.Rb(19,"ion-label"),s.Dc(20),s.cc(21,"translate"),s.Qb(),s.Rb(22,"ion-radio",8),s.Dc(23,"Test"),s.Qb(),s.Rb(24,"ion-label"),s.Dc(25),s.cc(26,"translate"),s.Qb(),s.Mb(27,"ion-radio",9),s.Rb(28,"ion-label"),s.Dc(29),s.cc(30,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(31,"ion-row"),s.Rb(32,"ion-col"),s.Rb(33,"ion-button",10),s.Zb("click",function(){return t.saveAction()}),s.Dc(34),s.cc(35,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Mb(36,"p-toast",11),s.Qb()),2&e&&(s.Ab(1),s.ic("formGroup",t.formGroup),s.Ab(3),s.Fc("",s.dc(5,11,"rentPlanEntry.rentPlanName")," "),s.Ab(2),s.ic("ngModel",t.rentPlanObj.rentPlan),s.Ab(3),s.Ec(s.dc(10,13,"rentPlanEntry.rentAmount")),s.Ab(2),s.ic("ngModel",t.rentPlanObj.rentAmount),s.Ab(2),s.ic("ngModel",t.rentPlanObj.vehicleType),s.Ab(2),s.Ec(s.dc(16,15,"rentPlanEntry.rentplanType")),s.Ab(5),s.Ec(s.dc(21,17,"rentPlanEntry.car")),s.Ab(5),s.Ec(s.dc(26,19,"rentPlanEntry.auto")),s.Ab(4),s.Ec(s.dc(30,21,"rentPlanEntry.others")),s.Ab(5),s.Ec(s.dc(35,23,"save")))},directives:[c.l,l.p,l.j,l.d,c.r,l.e,c.s,c.q,c.K,l.i,l.c,l.n,c.F,c.v,c.J,c.u,c.I,c.x,c.k,c.d,m.a],pipes:[f.c],styles:[""]}),r),y=a("8CEF");function g(e,t){if(1&e){var n=s.Sb();s.Rb(0,"div",13),s.Zb("click",function(){s.vc(n);var e=t.$implicit;return s.bc().editaction(e)}),s.Rb(1,"div",14),s.Rb(2,"div",15),s.Mb(3,"i",16),s.Qb(),s.Rb(4,"div",15),s.Rb(5,"h2"),s.Dc(6),s.Qb(),s.Rb(7,"h3"),s.Dc(8),s.cc(9,"translate"),s.Qb(),s.Rb(10,"ion-label"),s.Dc(11),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&e){var i=t.$implicit;s.Ab(6),s.Fc(" ",i.rentPlan," "),s.Ab(2),s.Gc(" ",i.rentAmount," ",s.dc(9,4,"rs")," "),s.Ab(3),s.Fc(" ",i.vehicleType," ")}}var P,k,R=((P=function(){function t(n,i,a,r,o,c){e(this,t),this.router=n,this.dialogService=i,this.messageService=a,this.location=r,this.translate=o,this.dbprovider=c,this.rentplans=[],this.tableName="rentPlan",this.fetchData()}return n(t,[{key:"fetchData",value:function(){var e=this;this.dbprovider.fetchDocsWithoutRelationshipByType(this.tableName).then(function(t){t&&"SUCCESS"==t.status?(console.log(t),e.rentplans=t.records):e.messageService.add({key:"rentPlanList",severity:"error",summary:t.message,detail:""})})}},{key:"backButtonOnclick",value:function(){this.location.back()}},{key:"planAddClick",value:function(){var e=this;console.log("user add"),this.dialogService.open(v,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:"",mode:"new"}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchData()})}},{key:"editaction",value:function(e){var t=this;console.log("edit",e),this.dialogService.open(v,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:e,mode:"edit"}}).onClose.subscribe(function(e){e&&"SUCCESS"==e&&t.fetchData()})}}]),t}()).\u0275fac=function(e){return new(e||P)(s.Lb(b.g),s.Lb(p.a),s.Lb(h.h),s.Lb(o.g),s.Lb(f.d),s.Lb(u.a))},P.\u0275cmp=s.Fb({type:P,selectors:[["rentPlanList"]],decls:19,vars:4,consts:[["no-border",""],["slot","start"],["slot","start",3,"click"],["name","arrow-back",2,"font-size","30px","color","black"],["slot","end"],["slot","end",3,"click"],["name","add",2,"font-size","30px","color","black"],["size","large",1,"ion-text-center"],[2,"padding","20px"],["layout","grid",3,"value"],["dv",""],["pTemplate","gridItem"],["key","rentPlanList","position","center"],[1,"p-col-12","p-md-4",2,"padding","5px",3,"click"],[1,"p-shadow-5"],[2,"padding","13px"],[1,"pi","pi-money-bill",2,"font-size","4rem"]],template:function(e,t){1&e&&(s.Rb(0,"ion-header",0),s.Rb(1,"ion-toolbar"),s.Rb(2,"ion-buttons",1),s.Rb(3,"ion-button",2),s.Zb("click",function(){return t.backButtonOnclick()}),s.Rb(4,"h2"),s.Mb(5,"ion-icon",3),s.Qb(),s.Qb(),s.Qb(),s.Rb(6,"ion-buttons",4),s.Rb(7,"ion-button",5),s.Zb("click",function(){return t.planAddClick()}),s.Rb(8,"h2"),s.Mb(9,"ion-icon",6),s.Qb(),s.Qb(),s.Qb(),s.Rb(10,"ion-title",7),s.Dc(11),s.cc(12,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Rb(13,"ion-content"),s.Rb(14,"div",8),s.Rb(15,"p-dataView",9,10),s.Bc(17,g,12,6,"ng-template",11),s.Qb(),s.Qb(),s.Mb(18,"p-toast",12),s.Qb()),2&e&&(s.Ab(11),s.Fc(" ",s.dc(12,2,"rentPlanList.title")," "),s.Ab(4),s.ic("value",t.rentplans))},directives:[c.o,c.B,c.e,c.d,c.p,c.A,c.l,y.a,h.j,m.a,c.s],pipes:[f.c],styles:[""]}),P),Q=a("7kUa"),S=a("jIHw"),E=a("Q4Mo"),A=a("1SLH"),C=[{path:"",component:R}],j=((k=function t(){e(this,t)}).\u0275mod=s.Jb({type:k}),k.\u0275inj=s.Ib({factory:function(e){return new(e||k)},imports:[[b.k.forChild(C),o.b,l.f,c.C,Q.b,S.c,E.b,A.b,y.b,p.c,f.b,m.b],b.k]}),k)}}])}();