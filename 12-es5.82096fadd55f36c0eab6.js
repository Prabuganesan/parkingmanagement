!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{JPuJ:function(n,i,c){"use strict";c.r(i),c.d(i,"contactListWithVehicleInfoModule",function(){return Z});var o=c("ofXK"),a=c("TEn/"),l=c("3Pt+"),r=c("mrSG"),b=c("nNGn"),s=c("VqLa"),h=c("XqSU"),d=c("0Eai"),u=c("eKwt"),p=c("xHpX"),f=c("fXoL"),g=c("tyNb"),v=c("J7/z"),m=c("sYmb"),R=c("tp0D"),Q=c("7zfz"),A=c("7kUa"),C=c("jIHw"),y=c("Q4Mo"),k=c("Gxio"),I=c("1SLH");function w(t,e){if(1&t&&(f.Rb(0,"h2"),f.Dc(1),f.Qb()),2&t){var n=f.bc().$implicit;f.Ab(1),f.Ec(n.contactName)}}function D(t,e){if(1&t&&(f.Rb(0,"h2"),f.Dc(1),f.Qb()),2&t){var n=f.bc().$implicit;f.Ab(1),f.Ec(n.contactNameInTamil)}}function L(t,e){if(1&t){var n=f.Sb();f.Rb(0,"ion-item",19),f.Zb("click",function(t){f.vc(n);var i=e.$implicit;return f.bc().itemSelect(i),t.stopPropagation()}),f.Rb(1,"ion-avatar",1),f.Mb(2,"ion-icon",20),f.Qb(),f.Rb(3,"ion-label"),f.Bc(4,w,2,1,"h2",21),f.Bc(5,D,2,1,"h2",21),f.Rb(6,"h3"),f.Dc(7),f.Qb(),f.Rb(8,"p"),f.Dc(9),f.Qb(),f.Qb(),f.Rb(10,"button",22),f.Zb("click",function(t){f.vc(n);var i=e.$implicit;return f.bc().editContact(i),t.stopPropagation()}),f.Qb(),f.Qb()}if(2&t){var i=e.$implicit,c=f.bc();f.Ab(4),f.ic("ngIf",c.appLanguage&&"en"==c.appLanguage),f.Ab(1),f.ic("ngIf",c.appLanguage&&"ta"==c.appLanguage),f.Ab(2),f.Ec(i.contactMobile),f.Ab(2),f.Fc("Added By : ",i.securityName,"")}}function x(t,e){if(1&t&&(f.Rb(0,"ion-label"),f.Rb(1,"b"),f.Dc(2),f.Qb(),f.Qb()),2&t){var n=f.bc(2).$implicit;f.Ab(2),f.Ec(n.contactName)}}function V(t,e){if(1&t&&(f.Rb(0,"ion-label"),f.Rb(1,"b"),f.Dc(2),f.Qb(),f.Qb()),2&t){var n=f.bc(2).$implicit;f.Ab(2),f.Ec(n.contactNameInTamil)}}function M(t,e){if(1&t&&(f.Rb(0,"div"),f.Bc(1,x,3,1,"ion-label",21),f.Bc(2,V,3,1,"ion-label",21),f.Rb(3,"ion-label"),f.Dc(4),f.Qb(),f.Mb(5,"div",44),f.Qb()),2&t){var n=f.bc().$implicit,i=f.bc(3);f.Ab(1),f.ic("ngIf",i.appLanguage&&"en"==i.appLanguage),f.Ab(1),f.ic("ngIf",i.appLanguage&&"ta"==i.appLanguage),f.Ab(2),f.Ec(n.contactMobile)}}function S(t,e){if(1&t&&(f.Rb(0,"ion-row",43),f.Bc(1,M,6,3,"div",21),f.Qb()),2&t){var n=e.index;f.Ab(1),f.ic("ngIf",n<2)}}function E(t,e){if(1&t){var n=f.Sb();f.Rb(0,"ion-item",19),f.Zb("click",function(){return f.vc(n),f.bc(2).vehicleDetail()}),f.Rb(1,"ion-col",28),f.Rb(2,"div"),f.Rb(3,"div",29),f.Rb(4,"ion-avatar",30),f.Mb(5,"ion-icon",31),f.Qb(),f.Rb(6,"ion-label",32),f.Rb(7,"h3"),f.Dc(8),f.Qb(),f.Qb(),f.Qb(),f.Rb(9,"div",33),f.Rb(10,"ion-label"),f.Rb(11,"h3"),f.Dc(12),f.Qb(),f.Rb(13,"h2"),f.Dc(14),f.Qb(),f.Rb(15,"h2"),f.Rb(16,"b"),f.Dc(17),f.Qb(),f.Qb(),f.Rb(18,"p"),f.Dc(19),f.Qb(),f.Qb(),f.Qb(),f.Mb(20,"div",34),f.Qb(),f.Qb(),f.Rb(21,"ion-col",35),f.Rb(22,"div",36),f.Rb(23,"ion-label"),f.Rb(24,"h3"),f.Dc(25),f.cc(26,"translate"),f.Qb(),f.Rb(27,"h2"),f.Dc(28),f.cc(29,"translate"),f.Qb(),f.Rb(30,"p"),f.Dc(31),f.cc(32,"translate"),f.Qb(),f.Rb(33,"p"),f.Dc(34),f.cc(35,"date"),f.Qb(),f.Qb(),f.Qb(),f.Mb(36,"div",34),f.Qb(),f.Rb(37,"ion-col",37),f.Bc(38,S,2,1,"ion-row",38),f.Qb(),f.Rb(39,"ion-col",39),f.Rb(40,"button",40),f.Zb("click",function(t){f.vc(n);var i=e.$implicit,c=f.uc(42),o=f.bc(2);return c.toggle(t),o.menuClick(i),t.stopPropagation()}),f.Qb(),f.Mb(41,"p-menu",41,42),f.Qb(),f.Qb()}if(2&t){var i=e.$implicit,c=f.bc(2);f.Ab(8),f.Ec(i.vehicleInfo.vehicleColor),f.Ab(4),f.Ec(i.vehicleInfo.vehicleType),f.Ab(2),f.Gc("",i.vehicleInfo.vehicleBrand," ",i.vehicleInfo.vehicleModel," "),f.Ab(3),f.Ec(i.vehicleInfo.vehicleNumber),f.Ab(2),f.Fc("Added By : ",i.vehicleInfo.addedBy,""),f.Ab(6),f.Gc("",f.dc(26,15,"rentPlanEntry.rentPlanName")," : ",i.rentPlanInfo.rentPlan,""),f.Ab(3),f.Gc("",i.rentPlanInfo.rentAmount," ",f.dc(29,17,"rs"),""),f.Ab(3),f.Fc("",f.dc(32,19,"contactListWithVehicle.accountOpenDate")," :"),f.Ab(3),f.Ec(f.ec(35,21,i.accountInfo.openDate,"dd/MM/yyyy hh:mm a")),f.Ab(4),f.ic("ngForOf",i.additionalContacts),f.Ab(3),f.ic("popup",!0)("model",c.items)}}function B(t,e){if(1&t){var n=f.Sb();f.Rb(0,"div",23),f.Rb(1,"ion-toolbar",24),f.Rb(2,"ion-button",25),f.Zb("click",function(){return f.vc(n),f.bc().vehicleAddButtonclick()}),f.Mb(3,"img",26),f.Qb(),f.Qb(),f.Rb(4,"ion-list",27),f.Bc(5,E,43,24,"ion-item",14),f.Qb(),f.Qb()}if(2&t){var i=f.bc();f.Ab(5),f.ic("ngForOf",i.vehicleList)}}function O(t,e){if(1&t&&(f.Rb(0,"div"),f.Rb(1,"div",29),f.Rb(2,"ion-avatar",30),f.Mb(3,"ion-icon",31),f.Qb(),f.Rb(4,"ion-label",32),f.Rb(5,"h3"),f.Dc(6),f.Qb(),f.Qb(),f.Qb(),f.Rb(7,"div",33),f.Rb(8,"ion-label"),f.Rb(9,"h2"),f.Dc(10),f.Qb(),f.Rb(11,"h2"),f.Dc(12),f.Qb(),f.Rb(13,"h2"),f.Rb(14,"b"),f.Dc(15),f.Qb(),f.Qb(),f.Rb(16,"p"),f.Dc(17),f.Qb(),f.Qb(),f.Qb(),f.Qb()),2&t){var n=f.bc().$implicit;f.Ab(6),f.Ec(n.alternateVehicleInfo.vehicleColor),f.Ab(4),f.Ec(n.alternateVehicleInfo.vehicleType),f.Ab(2),f.Gc("",n.alternateVehicleInfo.vehicleBrand," ",n.alternateVehicleInfo.vehicleModel," "),f.Ab(3),f.Ec(n.alternateVehicleInfo.vehicleNumber),f.Ab(2),f.Fc("Added By : ",n.alternateVehicleInfo.addedBy,"")}}function P(t,e){1&t&&(f.Rb(0,"div"),f.Rb(1,"ion-label",32),f.Mb(2,"br"),f.Rb(3,"h3"),f.Dc(4,"Alternate vehicle not available"),f.Qb(),f.Qb(),f.Qb())}function N(t,e){if(1&t&&(f.Rb(0,"h2"),f.Dc(1),f.Qb()),2&t){var n=f.bc().$implicit;f.Ab(1),f.Ec(n.contactName)}}function T(t,e){if(1&t&&(f.Rb(0,"h2"),f.Dc(1),f.Qb()),2&t){var n=f.bc().$implicit;f.Ab(1),f.Ec(n.contactNameInTamil)}}function F(t,e){if(1&t&&(f.Rb(0,"ion-col",59),f.Rb(1,"div"),f.Rb(2,"ion-label",54),f.Bc(3,N,2,1,"h2",21),f.Bc(4,T,2,1,"h2",21),f.Rb(5,"h2"),f.Dc(6),f.Qb(),f.Qb(),f.Qb(),f.Qb()),2&t){var n=e.$implicit,i=f.bc(3);f.Ab(3),f.ic("ngIf",i.appLanguage&&"en"==i.appLanguage),f.Ab(1),f.ic("ngIf",i.appLanguage&&"ta"==i.appLanguage),f.Ab(2),f.Ec(n.contactMobile)}}function _(t,e){if(1&t){var n=f.Sb();f.Rb(0,"ion-grid",47),f.Rb(1,"ion-row",48),f.Rb(2,"ion-col",49),f.Rb(3,"h2"),f.Dc(4),f.cc(5,"translate"),f.Qb(),f.Rb(6,"div"),f.Rb(7,"div",29),f.Rb(8,"ion-avatar",30),f.Mb(9,"ion-icon",31),f.Qb(),f.Rb(10,"ion-label",32),f.Rb(11,"h3"),f.Dc(12),f.Qb(),f.Qb(),f.Qb(),f.Rb(13,"div",33),f.Rb(14,"ion-label"),f.Rb(15,"h2"),f.Dc(16),f.Qb(),f.Rb(17,"h2"),f.Dc(18),f.Qb(),f.Rb(19,"h2"),f.Rb(20,"b"),f.Dc(21),f.Qb(),f.Qb(),f.Rb(22,"p"),f.Dc(23),f.Qb(),f.Qb(),f.Qb(),f.Mb(24,"div",34),f.Qb(),f.Qb(),f.Rb(25,"ion-col",49),f.Rb(26,"h2"),f.Dc(27),f.cc(28,"translate"),f.Qb(),f.Rb(29,"div",50),f.Rb(30,"ion-label"),f.Rb(31,"h2"),f.Dc(32),f.cc(33,"translate"),f.Qb(),f.Rb(34,"h2"),f.Dc(35),f.cc(36,"translate"),f.Qb(),f.Rb(37,"p"),f.Dc(38),f.cc(39,"translate"),f.Qb(),f.Rb(40,"p"),f.Dc(41),f.cc(42,"date"),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Rb(43,"ion-col",51),f.Rb(44,"button",40),f.Zb("click",function(t){f.vc(n);var i=e.$implicit,c=f.uc(46),o=f.bc(2);return c.toggle(t),o.menuClick(i),t.stopPropagation()}),f.Qb(),f.Mb(45,"p-menu",41,42),f.Qb(),f.Mb(47,"div",52),f.Qb(),f.Rb(48,"ion-row",53),f.Rb(49,"ion-col",49),f.Rb(50,"div"),f.Rb(51,"h2"),f.Dc(52),f.cc(53,"translate"),f.Qb(),f.Rb(54,"div",36),f.Rb(55,"ion-label",54),f.Rb(56,"h2"),f.Dc(57),f.cc(58,"translate"),f.cc(59,"translate"),f.Qb(),f.Rb(60,"h2"),f.Dc(61),f.cc(62,"translate"),f.cc(63,"translate"),f.Qb(),f.Rb(64,"h2"),f.Rb(65,"b"),f.Dc(66),f.cc(67,"translate"),f.cc(68,"translate"),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Mb(69,"div",34),f.Qb(),f.Qb(),f.Rb(70,"ion-col",49),f.Rb(71,"h2"),f.Dc(72),f.cc(73,"translate"),f.Qb(),f.Bc(74,O,18,6,"div",21),f.Bc(75,P,5,0,"div",21),f.Qb(),f.Mb(76,"div",52),f.Qb(),f.Rb(77,"ion-row",53),f.Rb(78,"ion-row",55),f.Rb(79,"h2",56),f.Dc(80),f.cc(81,"translate"),f.Qb(),f.Qb(),f.Rb(82,"ion-row",57),f.Bc(83,F,7,3,"ion-col",58),f.Qb(),f.Qb(),f.Qb()}if(2&t){var i=e.$implicit,c=f.bc(2);f.Ab(4),f.Ec(f.dc(5,31,"contactListWithVehicle.primaryVehicleInfo")),f.Ab(8),f.Ec(i.vehicleInfo.vehicleColor),f.Ab(4),f.Ec(i.vehicleInfo.vehicleType),f.Ab(2),f.Gc("",i.vehicleInfo.vehicleBrand," ",i.vehicleInfo.vehicleModel," "),f.Ab(3),f.Ec(i.vehicleInfo.vehicleNumber),f.Ab(2),f.Fc("Added By : ",i.vehicleInfo.addedBy,""),f.Ab(4),f.Ec(f.dc(28,33,"contactListWithVehicle.accountInfo")),f.Ab(5),f.Gc("",f.dc(33,35,"rentPlanEntry.rentPlanName")," : ",i.rentPlanInfo.rentPlan,""),f.Ab(3),f.Gc("",i.rentPlanInfo.rentAmount," ",f.dc(36,37,"rs"),""),f.Ab(3),f.Fc("",f.dc(39,39,"contactListWithVehicle.accountOpenDate")," :"),f.Ab(3),f.Ec(f.ec(42,41,i.accountInfo.openDate,"dd/MM/yyyy hh:mm a")),f.Ab(4),f.ic("popup",!0)("model",c.items),f.Ab(7),f.Ec(f.dc(53,44,"contactListWithVehicle.outstandingInfo")),f.Ab(5),f.Hc("",f.dc(58,46,"contactListWithVehicle.totalAmount")," : ",i.accountInfo.totalBillAmount," ",f.dc(59,48,"rs"),""),f.Ab(4),f.Hc("",f.dc(62,50,"contactListWithVehicle.paidAmount")," : ",i.accountInfo.receivedAmount," ",f.dc(63,52,"rs"),""),f.Ab(5),f.Hc("",f.dc(67,54,"contactListWithVehicle.pendingAmount")," : ",i.accountInfo.totalBillAmount-i.accountInfo.receivedAmount," ",f.dc(68,56,"rs"),""),f.Ab(6),f.Ec(f.dc(73,58,"contactListWithVehicle.alternateVehicleInfo")),f.Ab(2),f.ic("ngIf",i.alternateVehicleInfo.vehicleType),f.Ab(1),f.ic("ngIf",!i.alternateVehicleInfo.vehicleType),f.Ab(5),f.Ec(f.dc(81,60,"contactListWithVehicle.additionalContactInfo")),f.Ab(3),f.ic("ngForOf",i.additionalContacts)}}function W(t,e){if(1&t){var n=f.Sb();f.Rb(0,"div",45),f.Rb(1,"ion-toolbar",24),f.Rb(2,"ion-button",25),f.Zb("click",function(){return f.vc(n),f.bc().vehicleAddButtonclick()}),f.Mb(3,"img",26),f.Qb(),f.Qb(),f.Bc(4,_,84,62,"ion-grid",46),f.Qb()}if(2&t){var i=f.bc();f.Ab(4),f.ic("ngForOf",i.vehicleList)}}function j(t,e){if(1&t){var n=f.Sb();f.Rb(0,"div",45),f.Rb(1,"ion-toolbar",24),f.Rb(2,"ion-button",25),f.Zb("click",function(){return f.vc(n),f.bc().vehicleAddButtonclick()}),f.Mb(3,"img",26),f.Qb(),f.Qb(),f.Rb(4,"div",60),f.Mb(5,"br"),f.Mb(6,"div"),f.Rb(7,"div",32),f.Rb(8,"ion-label"),f.Dc(9,"No vehicle assigned against this contact."),f.Qb(),f.Qb(),f.Qb(),f.Qb()}}var $,z,U=[{path:"",component:($=function(){function n(e,i,c,o,a,l,r){var b=this;t(this,n),this.router=e,this.dialogService=i,this.popoverController=c,this.location=o,this.translate=a,this.dbprovider=l,this.messageService=r,this.contactList=[],this.vehicleList=[],this.queryText="",this.appLanguage="ta",this.contactTableName="contact",this.vehicleTableName="vehicle",this.accountTableName="account",this.alternateVehicleTableName="alternateVehicle",this.vehicleContactAssignmentTableName="vehicleContactAssignment",this.appLanguage=this.translate.getDefaultLang(),this.fetchContactList(),this.items=[{label:"Actions",items:[{label:this.translate.instant("actions.editVehicle"),icon:"pi pi-angle-right",command:function(){b.vehicleEditAction()}},{label:this.translate.instant("actions.assignContact"),icon:"pi pi-angle-right",command:function(){b.assignContact()}},{label:this.translate.instant("actions.contactList"),icon:"pi pi-angle-right",command:function(){b.showContactList()}},{label:this.translate.instant("actions.alternateVehicleList"),icon:"pi pi-angle-right",command:function(){b.alternateVehicleList()}},{label:this.translate.instant("actions.accountDetail"),icon:"pi pi-angle-right",command:function(){b.accountDetail()}}]}]}var i,c,o;return i=n,(c=[{key:"editContact",value:function(t){var e=this;console.log(t),delete JSON.parse(JSON.stringify(t)).selected,this.dialogService.open(p.a,{header:this.translate.instant("contactEntry.title"),width:"50%",data:{object:t,mode:"edit",contactId:"test"}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchContactList()})}},{key:"contactAddButtonclick",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("add contact"),this.dialogService.open(p.a,{header:this.translate.instant("contactEntry.title"),width:"50%",data:{object:"",mode:"new"}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchContactList()});case 1:case"end":return t.stop()}},t,this)}))}},{key:"vehicleAddButtonclick",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("add vehicle"),this.dialogService.open(u.a,{header:this.translate.instant("vehicleEntry.title"),width:"50%",data:{object:"",mode:"new",contactId:this.selectedContact.id}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchVehicleContactAssignemntAgainstContact(e.selectedContact.id)});case 1:case"end":return t.stop()}},t,this)}))}},{key:"vehicleEditAction",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("edit vehicle"),this.dialogService.open(u.a,{header:this.translate.instant("vehicleEntry.title"),width:"50%",data:{object:this.selectedVehicle,mode:"edit",contactId:this.selectedContact.id}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchVehicleContactAssignemntAgainstContact(e.selectedContact.id)});case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchContactList",value:function(){var t=this;this.dbprovider.fetchDocsWithoutRelationshipByType(this.contactTableName).then(function(e){e&&"SUCCESS"==e.status?(console.log(e),t.contactList=e.records,t.contactList.length>0&&(t.selectedContact=t.contactList[0],t.fetchVehicleContactAssignemntAgainstContact(t.selectedContact.id))):t.messageService.add({key:"contactList",severity:"error",summary:e.message,detail:""})})}},{key:"fetchVehicleContactAssignemntAgainstContact",value:function(t){var e=this;this.dbprovider.fetchDocsWithoutRelationshipUsingFindOption({selector:{"data.contact_lookup":t,"data.type":this.vehicleContactAssignmentTableName},sort:["data.contact_lookup"]}).then(function(t){if(console.log(t),"SUCCESS"==t.status&&t.records.length>0){var n=t.records.map(function(t){return t.vehicle_lookup}).map(function(t){return e.vehicleTableName+"_2_"+t});e.fetchVehicleListAgainstContact(n)}else e.vehicleList=[],e.selectedVehicle=null})}},{key:"fetchVehicleListAgainstContact",value:function(t){var e=this;console.log(t),this.vehicleList=[],this.dbprovider.fetchDocsWithDocIds(t).then(function(t){console.log(t),"SUCCESS"==t.status&&t.response.length>0?t.response.forEach(function(t){e.fetchAccountAndAdditionalContactInfo(t.id).then(function(n){n.vehicleInfo=t,console.log("result==>",n),e.vehicleList.push(n)})}):e.vehicleList=[]}).catch(function(t){e.vehicleList=[]})}},{key:"fetchAccountAndAdditionalContactInfo",value:function(t){var e={},n=[];return n.push(this.fetchAccountInfoAgainstVehicle(t).then(function(t){t?(e.rentPlanInfo=t.rentPlan_lookup,delete t.rentPlan_lookup,e.accountInfo=t,console.log(t)):(e.accountInfo={},e.rentPlanInfo={})})),n.push(this.fetchAdditionalContactInfoAgainstVehicle().then(function(t){e.additionalContacts=[{contactName:"Shunmugam",contactNameInTamil:"\u0bb7\u0ba9\u0bcd\u0bae\u0bc1123",contactMobile:"1234567896"}]})),n.push(this.fetchAlternateVehicleInfoAgainstVehicle(t).then(function(t){e.alternateVehicleInfo=t.length>0?t[0]:{}})),Promise.all(n).then(function(t){return console.log(t),e})}},{key:"fetchAccountInfoAgainstVehicle",value:function(t){return this.dbprovider.fetchDocsWithRelationshipUsingFindOption({selector:{"data.vehicle":t,"data.type":this.accountTableName},sort:["data.vehicle"]},!0,{masterandlookupreference:["rentPlan"]}).then(function(t){if(console.log(t),!t||"SUCCESS"!=t.status)return null;if(t.records.length>0){var e=null;return t.records.forEach(function(t){t.closeDate||(e=t)}),e}})}},{key:"fetchAdditionalContactInfoAgainstVehicle",value:function(){return Promise.resolve("")}},{key:"fetchAlternateVehicleInfoAgainstVehicle",value:function(t){return this.dbprovider.fetchDocsWithoutRelationshipByParentTypeAndId(this.alternateVehicleTableName,this.vehicleTableName,t).then(function(t){return console.log(t),t&&"SUCCESS"==t.status?t.records:null})}},{key:"menuClick",value:function(t){this.selectedVehicle=t.vehicleInfo,console.log("menu click",this.selectedVehicle)}},{key:"assignContact",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:b.a,translucent:!0,mode:"md"});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:case"end":return t.stop()}},t,this)}))}},{key:"showContactList",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:s.a,translucent:!0,mode:"md"});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:case"end":return t.stop()}},t,this)}))}},{key:"alternateVehicleList",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("alternate vehicle detail"),this.dialogService.open(h.a,{header:this.translate.instant("alternateVehicle.title"),width:"50%",data:{vehicle:this.selectedVehicle}}).onClose.subscribe(function(t){e.fetchVehicleContactAssignemntAgainstContact(e.selectedContact.id)});case 1:case"end":return t.stop()}},t,this)}))}},{key:"accountDetail",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("account detail"),this.dialogService.open(d.a,{header:this.translate.instant("accountDetail.title"),width:"50%",data:{vehicle:this.selectedVehicle}}).onClose.subscribe(function(t){e.fetchVehicleContactAssignemntAgainstContact(e.selectedContact.id)});case 1:case"end":return t.stop()}},t,this)}))}},{key:"itemSelect",value:function(t){console.log(t),t.selected=1,this.selectedContact=t,this.fetchVehicleContactAssignemntAgainstContact(t.id)}},{key:"searchByKeyword",value:function(){console.log("search")}},{key:"backButtonOnclick",value:function(){this.location.back()}},{key:"vehicleDetail",value:function(){this.router.navigate(["vehicleInfoDetail"])}}])&&e(i.prototype,c),o&&e(i,o),n}(),$.\u0275fac=function(t){return new(t||$)(f.Lb(g.g),f.Lb(v.a),f.Lb(a.H),f.Lb(o.g),f.Lb(m.d),f.Lb(R.a),f.Lb(Q.h))},$.\u0275cmp=f.Fb({type:$,selectors:[["contactListWithVehicleInfo"]],decls:25,vars:8,consts:[["no-border",""],["slot","start"],["slot","start",3,"click"],["name","arrow-back",2,"font-size","30px","color","black"],["size","large",1,"ion-text-center"],[1,"container"],[1,"left"],[2,"position","fixed","width","30%","background-color","white","padding-right","5px","padding-left","3px"],["pInputText","","type","text","placeholder","Search contact",2,"width","70%",3,"ngModel","ngModelChange"],[2,"padding-left","7px"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button-rounded","p-button-success",3,"click"],[2,"float","right"],["pButton","","pRipple","","type","button","icon","pi pi-user-plus",1,"p-button-rounded","p-button-info",3,"click"],[2,"padding-top","60px","width","100%"],[3,"click",4,"ngFor","ngForOf"],[1,"vl2","alignright"],["class","right",4,"ngIf"],["class","right","style","background-color: white;",4,"ngIf"],["key","contactList","position","center"],[3,"click"],["name","person-circle-outline",2,"font-size","50px"],[4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil","label","",1,"p-button-rounded","p-button-text",3,"click"],[1,"right"],[2,"position","fixed","width","71%"],["mode","ios","slot","end",1,"my-button",3,"click"],["src","./../../assets/car_add1.png",2,"width","33px","height","33px"],[2,"padding-top","50px","width","100%"],["size","4.5"],[1,"alignleft",2,"text-align","center","width","30%"],[2,"margin","auto"],["name","car-sport-outline",2,"font-size","50px"],[2,"text-align","center"],[1,"alignleft",2,"width","67%"],[1,"vl","alignright"],["size","3.8"],[1,"alignleft",2,"width","97%"],["size","3"],["style","padding: 0px;",4,"ngFor","ngForOf"],["size","1.2",2,"padding-left","0px"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","label","",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],["menu",""],[2,"padding","0px"],[2,"padding-top","2px"],[1,"right",2,"background-color","white"],["style","height: 100%;padding-top: 55px",4,"ngFor","ngForOf"],[2,"height","100%","padding-top","55px"],[2,"background-color","white","height","33.3%","width","100%","max-height","200px","min-height","180px"],["size","5.6",2,"height","99%"],[1,"alignleft",2,"width","100%","padding-left","10px"],["size","0.8",2,"background-color","white"],[1,"hl"],[2,"height","33.3%","max-height","200px","min-height","180px"],[2,"padding-left","10px"],[2,"width","100%","height","30%"],[2,"padding-left","4px"],[2,"width","100%","height","70%"],["style","min-width: 25%;max-width: 25%;",4,"ngFor","ngForOf"],[2,"min-width","25%","max-width","25%"],[2,"padding-top","50%","font-size","20px"]],template:function(t,e){1&t&&(f.Rb(0,"ion-header",0),f.Rb(1,"ion-toolbar"),f.Rb(2,"ion-buttons",1),f.Rb(3,"ion-button",2),f.Zb("click",function(){return e.backButtonOnclick()}),f.Rb(4,"h2"),f.Mb(5,"ion-icon",3),f.Qb(),f.Qb(),f.Qb(),f.Rb(6,"ion-title",4),f.Dc(7),f.cc(8,"translate"),f.Qb(),f.Qb(),f.Qb(),f.Rb(9,"ion-content"),f.Rb(10,"div",5),f.Rb(11,"div",6),f.Rb(12,"ion-toolbar",7),f.Rb(13,"input",8),f.Zb("ngModelChange",function(t){return e.queryText=t}),f.Qb(),f.Rb(14,"span",9),f.Rb(15,"button",10),f.Zb("click",function(){return e.searchByKeyword()}),f.Qb(),f.Qb(),f.Rb(16,"span",11),f.Rb(17,"button",12),f.Zb("click",function(){return e.contactAddButtonclick()}),f.Qb(),f.Qb(),f.Qb(),f.Rb(18,"ion-list",13),f.Bc(19,L,11,4,"ion-item",14),f.Qb(),f.Qb(),f.Mb(20,"div",15),f.Bc(21,B,6,1,"div",16),f.Bc(22,W,5,1,"div",17),f.Bc(23,j,10,0,"div",17),f.Qb(),f.Mb(24,"p-toast",18),f.Qb()),2&t&&(f.Ab(7),f.Fc(" ",f.dc(8,6,"contactListWithVehicle.title")," "),f.Ab(6),f.ic("ngModel",e.queryText),f.Ab(6),f.ic("ngForOf",e.contactList),f.Ab(2),f.ic("ngIf",e.vehicleList.length>1),f.Ab(1),f.ic("ngIf",1==e.vehicleList.length),f.Ab(1),f.ic("ngIf",0==e.vehicleList.length))},directives:[a.o,a.B,a.e,a.d,a.p,a.A,a.l,l.a,A.a,l.i,l.l,C.b,y.a,a.t,o.j,o.k,k.a,a.r,a.c,a.s,a.k,I.a,a.x,a.n],pipes:[m.c,o.d],styles:[".sticky[_ngcontent-%COMP%]{position:-webkit-sticky;top:0;height:60px}.alignleft[_ngcontent-%COMP%]{float:left}.alignright[_ngcontent-%COMP%]{float:right}.vl[_ngcontent-%COMP%]{border-left:1px solid #050505;height:100px}.vl2[_ngcontent-%COMP%]{border-left:1px solid #a09d9d;height:100%}.hl[_ngcontent-%COMP%]{border-top:1px solid #a09d9d;width:100%;height:1px;background-color:#000}.my-button[_ngcontent-%COMP%]{--background:#white;--background-activated:#white}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;width:50%;margin:auto}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;width:100%}.left[_ngcontent-%COMP%]{width:30%}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{display:block;background-color:#fff;overflow-y:scroll}.right[_ngcontent-%COMP%]{width:70%}"]}),$)}],Z=((z=function e(){t(this,e)}).\u0275mod=f.Jb({type:z}),z.\u0275inj=f.Ib({factory:function(t){return new(t||z)},imports:[[g.k.forChild(U),o.b,l.f,a.C,A.b,C.c,y.b,I.b,m.b,k.b],g.k]}),z)}}])}();