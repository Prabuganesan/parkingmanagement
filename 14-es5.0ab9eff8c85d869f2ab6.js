!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"9u13":function(t,a,i){"use strict";i.r(a),i.d(a,"rentPlanListModule",function(){return M});var r,o=i("ofXK"),c=i("TEn/"),l=i("3Pt+"),s=i("fXoL"),b=i("tyNb"),d=i("27b0"),u=i("tp0D"),h=i("7zfz"),p=i("J7/z"),m=i("Gxio"),f=i("sYmb"),y=((r=function(){function t(n,a,i,r,o,c,l){e(this,t),this.router=n,this.dbconfig=a,this.formBuilder=i,this.dbprovider=r,this.messageService=o,this.ref=c,this.config=l,this.rentPlanObj={},this.tableName="rentPlan",this.savedSuccessMessage="Data saved successfully","edit"==l.data.mode?this.rentPlanObj=JSON.parse(JSON.stringify(l.data.object)):this.initializeObjects(this.dbconfig.configuration.tableStructure),this.createFormGroup()}return n(t,[{key:"initializeObjects",value:function(e){this.rentPlanObj=JSON.parse(JSON.stringify(e[this.tableName])),this.rentPlanObj.vehicleType="car"}},{key:"createFormGroup",value:function(){this.formGroup=this.formBuilder.group({rentplan:this.formBuilder.group({rentPlan:["",l.o.compose([l.o.maxLength(80),l.o.required])],rentAmount:["",l.o.compose([l.o.required])],vehicleType:["",l.o.compose([l.o.required])]})})}},{key:"saveAction",value:function(){var e=this;console.log(this.rentPlanObj),this.formGroup.patchValue({rentplan:{rentPlan:this.rentPlanObj.rentPlan,rentAmount:this.rentPlanObj.rentAmount,vehicleType:this.rentPlanObj.vehicleType}}),this.formGroup.valid?this.alreadyExistValidation().then(function(t){t?e.messageService.add({key:"rentplanEntry",severity:"error",summary:"Plan already exist",detail:"",closable:!0}):e.dbprovider.save(e.tableName,e.rentPlanObj).then(function(t){"SUCCESS"==t.status?(e.messageService.add({key:"rentplanEntry",severity:"success",summary:e.savedSuccessMessage,detail:""}),setTimeout(function(){return e.ref.close("SUCCESS")},1e3)):e.messageService.add({key:"rentplanEntry",severity:"error",summary:t.message,detail:"",closable:!0})}).catch(function(t){console.log(t),e.messageService.add({key:"rentplanEntry",severity:"error",summary:t,detail:""})})}):this.messageService.add({key:"rentplanEntry",severity:"error",summary:"Fill all fields",detail:"",closable:!0})}},{key:"alreadyExistValidation",value:function(){var e=!1;return"edit"==this.config.data.mode&&this.rentPlanObj.rentPlan==this.config.data.object.rentPlan?Promise.resolve(e):this.dbprovider.fetchDocsWithoutRelationshipUsingFindOption({selector:{"data.rentPlan":this.rentPlanObj.rentPlan,"data.type":this.tableName},sort:["data.rentPlan"]}).then(function(t){return"SUCCESS"==t.status&&t.records.length>0&&(e=!0),e})}}]),t}()).\u0275fac=function(e){return new(e||r)(s.Mb(b.g),s.Mb(d.a),s.Mb(l.b),s.Mb(u.a),s.Mb(h.h),s.Mb(p.d),s.Mb(p.b))},r.\u0275cmp=s.Gb({type:r,selectors:[["rentPlanEntry"]],decls:37,vars:25,consts:[[2,"height","300px"],[2,"height","100%",3,"formGroup"],["lines","full","formGroupName","rentplan"],["position","floating"],["type","text","formControlName","rentPlan","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","rentAmount",3,"ngModel","ngModelChange"],["value","car","mode","md","formControlName","vehicleType",2,"width","100%",3,"ngModel","ngModelChange"],["value","car"],["value","auto"],["value","others"],["type","submit","color","danger","expand","block",3,"click"],["key","rentplanEntry","position","center"]],template:function(e,t){1&e&&(s.Sb(0,"ion-content",0),s.Sb(1,"form",1),s.Sb(2,"ion-item",2),s.Sb(3,"ion-label",3),s.Ec(4),s.dc(5,"translate"),s.Rb(),s.Sb(6,"ion-input",4),s.ac("ngModelChange",function(e){return t.rentPlanObj.rentPlan=e}),s.Rb(),s.Rb(),s.Sb(7,"ion-item",2),s.Sb(8,"ion-label",3),s.Ec(9),s.dc(10,"translate"),s.Rb(),s.Sb(11,"ion-input",5),s.ac("ngModelChange",function(e){return t.rentPlanObj.rentAmount=e}),s.Rb(),s.Rb(),s.Sb(12,"ion-item",2),s.Sb(13,"ion-radio-group",6),s.ac("ngModelChange",function(e){return t.rentPlanObj.vehicleType=e}),s.Sb(14,"ion-label"),s.Ec(15),s.dc(16,"translate"),s.Rb(),s.Sb(17,"ion-item"),s.Nb(18,"ion-radio",7),s.Sb(19,"ion-label"),s.Ec(20),s.dc(21,"translate"),s.Rb(),s.Sb(22,"ion-radio",8),s.Ec(23,"Test"),s.Rb(),s.Sb(24,"ion-label"),s.Ec(25),s.dc(26,"translate"),s.Rb(),s.Nb(27,"ion-radio",9),s.Sb(28,"ion-label"),s.Ec(29),s.dc(30,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(31,"ion-row"),s.Sb(32,"ion-col"),s.Sb(33,"ion-button",10),s.ac("click",function(){return t.saveAction()}),s.Ec(34),s.dc(35,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(36,"p-toast",11),s.Rb()),2&e&&(s.Ab(1),s.jc("formGroup",t.formGroup),s.Ab(3),s.Gc("",s.ec(5,11,"rentPlanEntry.rentPlanName")," "),s.Ab(2),s.jc("ngModel",t.rentPlanObj.rentPlan),s.Ab(3),s.Fc(s.ec(10,13,"rentPlanEntry.rentAmount")),s.Ab(2),s.jc("ngModel",t.rentPlanObj.rentAmount),s.Ab(2),s.jc("ngModel",t.rentPlanObj.vehicleType),s.Ab(2),s.Fc(s.ec(16,15,"rentPlanEntry.rentplanType")),s.Ab(5),s.Fc(s.ec(21,17,"rentPlanEntry.car")),s.Ab(5),s.Fc(s.ec(26,19,"rentPlanEntry.auto")),s.Ab(4),s.Fc(s.ec(30,21,"rentPlanEntry.others")),s.Ab(5),s.Fc(s.ec(35,23,"save")))},directives:[c.j,l.p,l.j,l.d,c.p,l.e,c.q,c.o,c.I,l.i,l.c,l.n,c.D,c.t,c.H,c.s,c.G,c.v,c.i,c.c,m.a],pipes:[f.c],styles:[""]}),r),v=i("8CEF");function S(e,t){if(1&e){var n=s.Tb();s.Sb(0,"div",13),s.ac("click",function(){s.wc(n);var e=t.$implicit;return s.cc().editaction(e)}),s.Sb(1,"div",14),s.Sb(2,"div",15),s.Nb(3,"i",16),s.Rb(),s.Sb(4,"div",15),s.Sb(5,"h2"),s.Ec(6),s.Rb(),s.Sb(7,"h3"),s.Ec(8),s.dc(9,"translate"),s.Rb(),s.Sb(10,"ion-label"),s.Ec(11),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){var a=t.$implicit;s.Ab(6),s.Gc(" ",a.rentPlan," "),s.Ab(2),s.Hc(" ",a.rentAmount," ",s.ec(9,4,"rs")," "),s.Ab(3),s.Gc(" ",a.vehicleType," ")}}var g,P,k=((g=function(){function t(n,a,i,r,o,c){e(this,t),this.router=n,this.dialogService=a,this.messageService=i,this.location=r,this.translate=o,this.dbprovider=c,this.rentplans=[],this.tableName="rentPlan",this.fetchData()}return n(t,[{key:"fetchData",value:function(){var e=this;this.dbprovider.fetchDocsWithoutRelationshipByType(this.tableName).then(function(t){t&&"SUCCESS"==t.status?(console.log(t),e.rentplans=t.records):e.messageService.add({key:"rentPlanList",severity:"error",summary:t.message,detail:""})})}},{key:"backButtonOnclick",value:function(){this.location.back()}},{key:"planAddClick",value:function(){var e=this;console.log("user add"),this.dialogService.open(y,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:"",mode:"new"}}).onClose.subscribe(function(t){t&&"SUCCESS"==t&&e.fetchData()})}},{key:"editaction",value:function(e){var t=this;console.log("edit",e),this.dialogService.open(y,{header:this.translate.instant("rentPlanEntry.title"),width:"40%",data:{object:e,mode:"edit"}}).onClose.subscribe(function(e){e&&"SUCCESS"==e&&t.fetchData()})}}]),t}()).\u0275fac=function(e){return new(e||g)(s.Mb(b.g),s.Mb(p.a),s.Mb(h.h),s.Mb(o.h),s.Mb(f.d),s.Mb(u.a))},g.\u0275cmp=s.Gb({type:g,selectors:[["rentPlanList"]],decls:19,vars:4,consts:[["no-border",""],["slot","start"],["slot","start",3,"click"],["name","arrow-back",2,"font-size","30px","color","black"],["slot","end"],["slot","end",3,"click"],["name","add",2,"font-size","30px","color","black"],["size","large",1,"ion-text-center"],[2,"padding","20px"],["layout","grid",3,"value"],["dv",""],["pTemplate","gridItem"],["key","rentPlanList","position","center"],[1,"p-col-12","p-md-4",2,"padding","5px",3,"click"],[1,"p-shadow-5"],[2,"padding","13px"],[1,"pi","pi-money-bill",2,"font-size","4rem"]],template:function(e,t){1&e&&(s.Sb(0,"ion-header",0),s.Sb(1,"ion-toolbar"),s.Sb(2,"ion-buttons",1),s.Sb(3,"ion-button",2),s.ac("click",function(){return t.backButtonOnclick()}),s.Sb(4,"h2"),s.Nb(5,"ion-icon",3),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"ion-buttons",4),s.Sb(7,"ion-button",5),s.ac("click",function(){return t.planAddClick()}),s.Sb(8,"h2"),s.Nb(9,"ion-icon",6),s.Rb(),s.Rb(),s.Rb(),s.Sb(10,"ion-title",7),s.Ec(11),s.dc(12,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"ion-content"),s.Sb(14,"div",8),s.Sb(15,"p-dataView",9,10),s.Cc(17,S,12,6,"ng-template",11),s.Rb(),s.Rb(),s.Nb(18,"p-toast",12),s.Rb()),2&e&&(s.Ab(11),s.Gc(" ",s.ec(12,2,"rentPlanList.title")," "),s.Ab(4),s.jc("value",t.rentplans))},directives:[c.m,c.z,c.d,c.c,c.n,c.y,c.j,v.a,h.j,m.a,c.q],pipes:[f.c],styles:[""]}),g),R=i("7kUa"),E=i("jIHw"),j=i("Q4Mo"),A=i("1SLH"),C=[{path:"",component:k}],M=((P=function t(){e(this,t)}).\u0275mod=s.Kb({type:P}),P.\u0275inj=s.Jb({factory:function(e){return new(e||P)},imports:[[b.k.forChild(C),o.c,l.f,c.A,R.b,E.c,j.b,A.b,v.b,p.c,f.b,m.b],b.k]}),P)}}])}();